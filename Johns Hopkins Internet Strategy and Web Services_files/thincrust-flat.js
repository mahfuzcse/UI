/*! JHM_WWW_Library_Builder - Dan Miller - 2015-09-01 */
$(document).ready(function(){function buttonUp(){var inputVal=$(".searchbox-input").val();inputVal=$.trim(inputVal).length,0!==inputVal?$(".searchbox-icon").css("display","none"):($(".searchbox-input").val(""),$(".searchbox-icon").css("display","block"))}var ToggleObject=function(buttonId,contentId,isHorizontal,onToggle){var button=$(buttonId),content=$(contentId),horizontal=isHorizontal===!0,display=$(content).css("display"),visible="none"===display?!1:!0,onToggleFunct="function"==typeof onToggle?onToggle:function(){};button.off("click"),horizontal?button.on("click",function(){"none"!==content.css("display")?content.hide("slide",{direction:"right",easing:"linear",complete:function(){onToggleFunct()}}):content.show("slide",{direction:"right",easing:"linear",complete:function(){onToggleFunct(!0)}})}):button.on("click",function(){visible="none"!==content.css("display")?!0:!1,content.slideToggle(400,function(){onToggleFunct(visible)})})},toggleMenu=new ToggleObject("#menu-button","#jhm-thcrmenu"),toggleSearch=new ToggleObject("#search-button","#jhm-search",!0,function(visible){var visible=visible===void 0?!1:!0;visible?$(".search-options").show():$(".search-options").hide()}),submitIcon=$(".searchbox-icon"),inputBox=$(".searchbox-input"),searchBox=$(".searchbox"),isOpen=!0;submitIcon.click(function(){isOpen===!1?(searchBox.addClass("searchbox-open"),inputBox.focus(),isOpen=!0):(searchBox.removeClass("searchbox-open"),inputBox.focusout(),isOpen=!1)}),submitIcon.mouseup(function(){return!1}),searchBox.mouseup(function(){return!1}),$(document).mouseup(function(){isOpen===!0&&($(".searchbox-icon").css("display","block"),submitIcon.click())});var jhmHorizontalMenu=function(){function init(){$menuItems.on("click",open),$listItems.on("click",function(event){event.stopPropagation()})}function open(event){-1!==current&&$listItems.eq(current).removeClass("jhm-menuopen");var $item=$(event.currentTarget).parent("li"),idx=$item.index();return current===idx?($item.removeClass("jhm-menuopen"),current=-1):($item.addClass("jhm-menuopen"),current=idx,$body.off("click").on("click",close)),$(".autocomplete-suggestions").css("display","none"),!1}function close(event){$(event.target).hasClass("autocomplete-suggestion")||($listItems.eq(current).removeClass("jhm-menuopen"),current=-1)}var $listItems=$("#jhm-thcrmenu > ul > li"),$menuItems=$listItems.children("a"),$body=$("body"),current=-1;return{init:init}}();jhmHorizontalMenu.init(),$(".flex-wrapper img, .flex-33-left img, .flex-33-right img, .flex-50-left img, .flex-50-right img, .flex-100 img, .flex-callout-img img").each(function(){$(this).removeAttr("width"),$(this).removeAttr("height")}),2>$("#leftNavNavMod .divnav2 ul li,#leftNavNavMod .divnavleft1 ul li").length&&$("a.leftNavModToggle").addClass("hide-section-menu"),50>$("#topNavNavMod .divnav1 ul li a").text().length&&$("#topNavNavMod .divnav1 ul").addClass("narrow-list");var sizeTopNavMenu=function(){var topNavWidth=0;$("#topNavNavMod .divnav1 ul li").each(function(){topNavWidth+=$(this).outerWidth(!0)}),topNavWidth>$(window).width()&&0===$("li.topNav-more").length&&($("#topNav .divnav1 ul").append('<li class="topNav-more"><a href="#">More</a></li>'),$(".topNav-more a").off("click"),$(".topNav-more a").on("click",function(e){var moreLink=$(e.target);$("#leftNav").hide(),$(".leftNavModToggle span.more").text("+"),$(".leftNavModToggle").removeClass("leftNavModToggleOpen"),"More"===moreLink.text()?(moreLink.text("Less"),$("#topNav").addClass("topNav-open")):(moreLink.text("More"),$("#topNav").removeClass("topNav-open"))}))};sizeTopNavMenu(),$(".leftNavModToggle").on("click",function(e){var $leftNavModToggle=$(".leftNavModToggle");$(".topNav-more a").text("More"),$("#topNav").removeClass("topNav-open"),$leftNavModToggle.hasClass("leftNavModToggleOpen")?($("#leftNav").slideUp(0),$(".leftNavModToggle").removeClass("leftNavModToggleOpen")):($("#leftNav").slideDown(0),$(".leftNavModToggle").addClass("leftNavModToggleOpen")),e.preventDefault()});var wt=0;$(window).resize(function(){clearTimeout(wt),wt=setTimeout(function(){$(window).width()>740&&($(".leftNavModToggle span.more").text("+"),$(".topNav-more a").text("More"),$("#topNav").removeClass("topNav-open"),$("#leftNav").css("display","")),sizeTopNavMenu()},25)});var setupSubsiteSearch=function(){$("#search-field").on("focus",function(){$(".search-options").show()}),$("html").on("click",function(e){$(".search-options").removeAttr("style")}),$(".search-options, #search-field").on("click",function(e){0===$(".search-options:visible").length&&$(".search-options").show(),e.stopPropagation()}),$("#jhmSiteSearch").on("submit",function(){return $("#jhmSubSiteSearch :input#subsite-search-field").val($("#jhmSiteSearch :input#search-field").val()),"sitesearch"!==$("input[name=subSiteSearchFlag]:checked").val()?!0:($("#jhmSubSiteSearch").submit(),!1)})};setupSubsiteSearch()});